{"ast":null,"code":"import * as apiUtil from '../utils/session';\nimport { receiveErrors } from \"./error\";\nexport const RECEIVE_CURRENT_USER = 'RECEIVE_CURRENT_USER';\nexport const LOGOUT_CURRENT_USER = 'LOGOUT_CURRENT_USER';\nexport const UPDATE_DIET = 'UPDATE_DIET';\n\nconst receiveCurrentUser = user => ({\n  type: RECEIVE_CURRENT_USER,\n  user\n});\n\nconst receiveCurrentUserDiet = diet => ({\n  type: UPDATE_DIET,\n  diet\n});\n\nconst logoutCurrentUser = () => ({\n  type: LOGOUT_CURRENT_USER\n});\n\nexport const getUser = () => {\n  return receiveCurrentUser();\n};\nexport const login = user => async dispatch => {\n  const response = await apiUtil.login(user);\n  const data = await response.json();\n\n  if (response.ok) {\n    return dispatch(receiveCurrentUser(data));\n  }\n\n  return dispatch(receiveErrors(data));\n};\nexport const signup = user => async dispatch => {\n  const response = await apiUtil.signup(user);\n  const data = await response.json();\n\n  if (response.ok) {\n    return dispatch(receiveCurrentUser(data));\n  }\n\n  return dispatch(receiveErrors(data));\n};\nexport const diet = diet => async dispatch => {\n  const response = await apiUtil.diet(user);\n  const data = await response.json();\n\n  if (response.ok) {\n    return dispatch(receiveCurrentUser(data));\n  }\n\n  return dispatch(receiveErrors(data));\n};\nexport const logout = () => async dispatch => {\n  const response = await apiUtil.logout();\n  const data = await response.json();\n  console.log(response);\n\n  if (response.status == \"422\") {\n    window.location.reload(false);\n  }\n\n  if (response.ok) {\n    return dispatch(logoutCurrentUser());\n  }\n\n  return dispatch(receiveErrors(data));\n};","map":{"version":3,"names":["apiUtil","receiveErrors","RECEIVE_CURRENT_USER","LOGOUT_CURRENT_USER","UPDATE_DIET","receiveCurrentUser","user","type","receiveCurrentUserDiet","diet","logoutCurrentUser","getUser","login","dispatch","response","data","json","ok","signup","logout","console","log","status","window","location","reload"],"sources":["/Users/jordanswalker/Documents/html/WeddingWebsite/SessionAuth/frontend/src/actions/session.js"],"sourcesContent":["import * as apiUtil from '../utils/session';\nimport { receiveErrors } from \"./error\";\n\nexport const RECEIVE_CURRENT_USER = 'RECEIVE_CURRENT_USER';\nexport const LOGOUT_CURRENT_USER = 'LOGOUT_CURRENT_USER';\nexport const UPDATE_DIET = 'UPDATE_DIET';\n\nconst receiveCurrentUser = user => ({\n  type: RECEIVE_CURRENT_USER,\n  user\n});\nconst receiveCurrentUserDiet = diet => ({\n  type: UPDATE_DIET,\n  diet\n});\nconst logoutCurrentUser = () => ({\n  type: LOGOUT_CURRENT_USER\n});\n\nexport const getUser = () => {\n    return receiveCurrentUser();\n};\n\nexport const login = user => async dispatch => {\n    const response = await apiUtil.login(user);\n    const data = await response.json();\n  if (response.ok) {\n      return dispatch(receiveCurrentUser(data));\n    }\n    return dispatch(receiveErrors(data));\n};\n  export const signup = user => async dispatch => {\n    const response = await apiUtil.signup(user);\n    const data = await response.json();\n    \n    if (response.ok) {\n      return dispatch(receiveCurrentUser(data));\n    }\n    return dispatch(receiveErrors(data));\n};\n\nexport const diet = diet => async dispatch => {\n  const response = await apiUtil.diet(user);\n  const data = await response.json();\n  \n  if (response.ok) {\n    return dispatch(receiveCurrentUser(data));\n  }\n  return dispatch(receiveErrors(data));\n};\n  export const logout = () => async dispatch => {\n    const response = await apiUtil.logout();\n    const data = await response.json();\n    console.log(response)\n    if(response.status == \"422\"){\n      window.location.reload(false);\n    }\n    if (response.ok) {\n      return dispatch(logoutCurrentUser());\n    }\n    return dispatch(receiveErrors(data));\n};"],"mappings":"AAAA,OAAO,KAAKA,OAAZ,MAAyB,kBAAzB;AACA,SAASC,aAAT,QAA8B,SAA9B;AAEA,OAAO,MAAMC,oBAAoB,GAAG,sBAA7B;AACP,OAAO,MAAMC,mBAAmB,GAAG,qBAA5B;AACP,OAAO,MAAMC,WAAW,GAAG,aAApB;;AAEP,MAAMC,kBAAkB,GAAGC,IAAI,KAAK;EAClCC,IAAI,EAAEL,oBAD4B;EAElCI;AAFkC,CAAL,CAA/B;;AAIA,MAAME,sBAAsB,GAAGC,IAAI,KAAK;EACtCF,IAAI,EAAEH,WADgC;EAEtCK;AAFsC,CAAL,CAAnC;;AAIA,MAAMC,iBAAiB,GAAG,OAAO;EAC/BH,IAAI,EAAEJ;AADyB,CAAP,CAA1B;;AAIA,OAAO,MAAMQ,OAAO,GAAG,MAAM;EACzB,OAAON,kBAAkB,EAAzB;AACH,CAFM;AAIP,OAAO,MAAMO,KAAK,GAAGN,IAAI,IAAI,MAAMO,QAAN,IAAkB;EAC3C,MAAMC,QAAQ,GAAG,MAAMd,OAAO,CAACY,KAAR,CAAcN,IAAd,CAAvB;EACA,MAAMS,IAAI,GAAG,MAAMD,QAAQ,CAACE,IAAT,EAAnB;;EACF,IAAIF,QAAQ,CAACG,EAAb,EAAiB;IACb,OAAOJ,QAAQ,CAACR,kBAAkB,CAACU,IAAD,CAAnB,CAAf;EACD;;EACD,OAAOF,QAAQ,CAACZ,aAAa,CAACc,IAAD,CAAd,CAAf;AACH,CAPM;AAQL,OAAO,MAAMG,MAAM,GAAGZ,IAAI,IAAI,MAAMO,QAAN,IAAkB;EAC9C,MAAMC,QAAQ,GAAG,MAAMd,OAAO,CAACkB,MAAR,CAAeZ,IAAf,CAAvB;EACA,MAAMS,IAAI,GAAG,MAAMD,QAAQ,CAACE,IAAT,EAAnB;;EAEA,IAAIF,QAAQ,CAACG,EAAb,EAAiB;IACf,OAAOJ,QAAQ,CAACR,kBAAkB,CAACU,IAAD,CAAnB,CAAf;EACD;;EACD,OAAOF,QAAQ,CAACZ,aAAa,CAACc,IAAD,CAAd,CAAf;AACH,CARQ;AAUT,OAAO,MAAMN,IAAI,GAAGA,IAAI,IAAI,MAAMI,QAAN,IAAkB;EAC5C,MAAMC,QAAQ,GAAG,MAAMd,OAAO,CAACS,IAAR,CAAaH,IAAb,CAAvB;EACA,MAAMS,IAAI,GAAG,MAAMD,QAAQ,CAACE,IAAT,EAAnB;;EAEA,IAAIF,QAAQ,CAACG,EAAb,EAAiB;IACf,OAAOJ,QAAQ,CAACR,kBAAkB,CAACU,IAAD,CAAnB,CAAf;EACD;;EACD,OAAOF,QAAQ,CAACZ,aAAa,CAACc,IAAD,CAAd,CAAf;AACD,CARM;AASL,OAAO,MAAMI,MAAM,GAAG,MAAM,MAAMN,QAAN,IAAkB;EAC5C,MAAMC,QAAQ,GAAG,MAAMd,OAAO,CAACmB,MAAR,EAAvB;EACA,MAAMJ,IAAI,GAAG,MAAMD,QAAQ,CAACE,IAAT,EAAnB;EACAI,OAAO,CAACC,GAAR,CAAYP,QAAZ;;EACA,IAAGA,QAAQ,CAACQ,MAAT,IAAmB,KAAtB,EAA4B;IAC1BC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB;EACD;;EACD,IAAIX,QAAQ,CAACG,EAAb,EAAiB;IACf,OAAOJ,QAAQ,CAACH,iBAAiB,EAAlB,CAAf;EACD;;EACD,OAAOG,QAAQ,CAACZ,aAAa,CAACc,IAAD,CAAd,CAAf;AACH,CAXQ"},"metadata":{},"sourceType":"module"}